<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z√ºlkarni Sezer - Fotoƒüraf & Video Galerisi</title>
    <style>
        /* STYLE KODLARI AYNI */
    </style>
</head>
<body>
    <!-- HTML KODU AYNI -->
    
    <script>
        // CLOUDINARY YERƒ∞NE BASE64 Sƒ∞STEMƒ∞
        const ADMIN_PASSWORD = "zulkarni123";
        let isAdmin = false;
        let currentPhoto = null;

        document.addEventListener('DOMContentLoaded', function() {
            loadGallery();
            setupEventListeners();
        });

        function setupEventListeners() {
            document.getElementById('photoInput').addEventListener('change', function(event) {
                const file = event.target.files[0];
                if (file && file.type.startsWith('image/')) {
                    currentPhoto = file;
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        const uploadArea = document.getElementById('uploadArea');
                        const imagePreview = document.getElementById('imagePreview');
                        
                        uploadArea.innerHTML = `
                            <p>‚úÖ Resim se√ßildi:</p>
                            <p><strong>${file.name}</strong></p>
                            <p><small>Tarayƒ±cƒ±ya kaydedilecek</small></p>
                        `;
                        uploadArea.style.background = 'rgba(76, 175, 80, 0.2)';
                        
                        imagePreview.innerHTML = `
                            <p><strong>√ñnizleme:</strong></p>
                            <img src="${e.target.result}" class="preview-image" alt="√ñnizleme">
                        `;
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
        }

        // ADMIN FONKSƒ∞YONLARI AYNI...

        async function uploadMedia() {
            if (!isAdmin) {
                alert('‚ùå √ñnce admin giri≈üi yapmalƒ±sƒ±nƒ±z!');
                return;
            }

            const type = document.getElementById('mediaType').value;
            const title = document.getElementById('mediaTitle').value.trim();
            const location = document.getElementById('mediaLocation').value.trim();
            const date = document.getElementById('mediaDate').value;

            if (!title || !location || !date) {
                alert('‚ùå L√ºtfen t√ºm bilgileri doldurun!');
                return;
            }

            if (type === 'photo') {
                if (!currentPhoto) {
                    alert('‚ùå L√ºtfen bir resim se√ßin!');
                    return;
                }
                await uploadPhoto(title, location, date);
            } else {
                const videoLink = document.getElementById('videoLink').value.trim();
                if (!videoLink) {
                    alert('‚ùå L√ºtfen YouTube linkini girin!');
                    return;
                }
                uploadVideo(title, location, date, videoLink);
            }
        }

        // CLOUDINARY YERƒ∞NE BASE64 KAYDET
        function uploadPhoto(title, location, date) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const photoData = {
                    type: 'photo',
                    url: e.target.result, // Base64 resim
                    title: title,
                    location: location,
                    date: formatDate(date),
                    id: Date.now().toString()
                };
                
                addToGallery(photoData);
                alert('üéâ Fotoƒüraf galeriye eklendi! (Tarayƒ±cƒ±da saklandƒ±)');
                resetForm();
            };
            
            reader.readAsDataURL(currentPhoto);
        }

        // Dƒ∞ƒûER FONKSƒ∞YONLAR AYNI...
    </script>
</body>
</html>
